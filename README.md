# Система бронирований ресурсов

Курсовая работа по дисциплине "Технологии сетевого взаимодействия" (10-й семестр) 

## Задание 8. Система бронирования ресурсов (переговорных комнат)
### Описание предметной Области: 
Разработать корпоративный сервис для бронирования общих ресурсов в офисе, в первую очередь — переговорных комнат. 
В системе должен вестись справочник сотрудников (пользователей). Также должен существовать реестр доступных для бронирования ресурсов 
(например, "Переговорная №1 (10 этаж)", "Проектор №3"). У каждого ресурса должна быть вместимость (для комнат) или другие характеристики. 
Ключевой функционал — создание "событий" (бронирований) в календаре, где сотрудник "резервирует" определенный ресурс на конкретную дату 
и временной слот (например, с 10:00 до 11:30).

### Технические Требования:
1. Бэкенд (Backend): Разработка API должна быть выполнена на языке    программирования Python. Рекомендуется использовать фреймворки FastAPI, Flask или Django REST Framework.
2. База данных (Database): В качестве системы управления базами данных (СУБД) разрешается использовать любую доступную реализацию реляционной СУБД с открытым исходным кодом (например, PostgreSQL, MySQL, MariaDB, SQLite). Вы несете ответственность за проектирование схемы базы данных (выделение сущностей, атрибутов и связей).
3. Документация API: Все эндпоинты (endpoints) в API должны быть задокументированы. Рекомендуется использовать спецификацию OpenAPI (например, с автоматической генерацией через Swagger UI или ReDoc).
4. Фронтенд (Frontend): Должно быть реализовано клиентское веб-приложение (технологии на выбор), взаимодействующее с разработанным API.

### Функциональные Требования к фронтенду:
1. Отображение данных в таблицах:
	o Реализовать интерфейс для просмотра полного списка всех "Событий" (бронирований) в системе.
	o Реализовать таблицу-справочник "Ресурсы", показывающую все доступные для бронирования комнаты и оборудование.

2.	Фильтрация данных:
	o В таблице бронирований должна быть реализована фильтрация по дате (показать все бронирования на сегодня).
	o Реализовать фильтрацию по ресурсу (показать расписание для "Переговорной №1").
	o Реализовать фильтрацию по сотруднику (показать "мои" бронирования).

3.	Объединение и вывод сводных данных:
	o Реализовать сводную таблицу "Календарь занятости". Таблица должна выводить данные в формате: "Название Ресурса", "Дата", "Время начала", "Время окончания", "ФИО сотрудника" (кто забронировал).
	o Реализовать сводный отчет "Загрузка ресурсов": "Название Ресурса", "Общее количество часов бронирования" за последний месяц (агрегация).

## Структура проекта
```
booking-system/
├── docker-compose.yml 
├── Dockerfile
├── requirements.txt
├── app/
│   ├── main.py              
│   ├── database.py         
│   ├── models.py         
│   ├── schemas.py        
│   ├── crud.py        
│   ├── routers/          
│       ├── employees.py   
│       ├── resources.py    
│       └── bookings.py    
│
├── frontend/
│   ├── index.html         
│   ├── styles.css          
│   ├── api.js               
│   └── app.js               
│
└── README.md                
```

## Предварительные требования

- **Python 3.10 или выше** ([скачать](https://www.python.org/downloads/))
- **Docker 20.10+** ([скачать](https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe?utm_source=docker&utm_medium=webreferral&utm_campaign=dd-smartbutton&utm_location=module))
- **Docker Compose 2.0+**

## Быстрый старт

### Клонирование репозитория

```
git clone <repository-url>
cd CP_Realease
```
## Запуск системы
Запуск всех сервисов
```docker compose up --build```

Или в фоновом режиме
```docker compose up -d --build```

## Проверка работоспособности
Проверка статуса
```curl http://localhost:8000/health```

Или откройте в браузере
```http://localhost:8000/```


## API Эндпоинты

### Сотрудники
- `GET /employees/` - Получить всех сотрудников
- `GET /employees/{id}` - Получить сотрудника по ID
- `POST /employees/` - Создать нового сотрудника
- `PUT /employees/{id}` - Обновить сотрудника
- `DELETE /employees/{id}` - Удалить сотрудника

### Ресурсы
- `GET /resources/` - Получить все ресурсы
- `GET /resources/{id}` - Получить ресурс по ID
- `POST /resources/` - Создать новый ресурс
- `PUT /resources/{id}` - Обновить ресурс
- `DELETE /resources/{id}` - Удалить ресурс

### Бронирования
- `GET /bookings/` - Получить все бронирования
- `GET /bookings/{id}` - Получить бронирование по ID
- `GET /bookings/today` - Получить бронирования на сегодня
- `GET /bookings/by_resource/{resource_id}` - Бронирования по ресурсу
- `GET /bookings/by_employee/{employee_id}` - Бронирования по сотруднику
- `POST /bookings/` - Создать новое бронирование
- `PUT /bookings/{id}` - Обновить бронирование
- `DELETE /bookings/{id}` - Удалить бронирование

### Отчеты
- `GET /bookings/report/resource_usage` - Отчет по загрузке ресурсов

## Примеры использования

### Пример 1: Создание сотрудника



### Пример 2: Создание ресурса



### Пример 3: Создание бронирования



### Пример 4: Просмотр общего использования ресурсов (Отчет за прошедший месяц)



### Swager



### Swager (schemas)




## База данных

Проект использует **SQLite** - файловую базу данных.

После первого запуска backend в каталоге `backend/` создастся файл `booking_system.db` со следующими таблицами:

- **employees** - Сотрудники (id, full_name, email)
- **resources** - Ресурсы (id, name, type, capacity)
- **bookings** - Бронирования (id, resource_id, employee_id, date, start_time, end_time)

## Остановка системы
Остановка контейнеров
```docker compose down```

Остановка с удалением volumes
```docker compose down -v```

### Технологии

    Backend: FastAPI, Python

    База данных: SQLite

    Frontend: HTML, JavaScript

    Контейнеризация: Docker, Docker Compose
